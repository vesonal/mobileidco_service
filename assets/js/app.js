(function(e){function t(t){for(var a,s,o=t[0],c=t[1],u=t[2],h=0,d=[];h<o.length;h++)s=o[h],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&d.push(r[s][0]),r[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);l&&l(t);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={app:0},i=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/authentication-system/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},2395:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=n("2f62"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"background-dots",attrs:{id:"app"},on:{click:e.onClickApp}},[n("header",{staticClass:"signicat-header sticky"},[n("div",{staticClass:"header-wrapper"},[n("div",{staticClass:"menu-toggler",on:{click:e.toggleMenu}},[e.menuOpen?e._e():n("i",{staticClass:"material-icons open-menu-icon"},[e._v("menu")]),e.menuOpen?n("i",{staticClass:"material-icons close-menu-icon"},[e._v("close")]):e._e(),n("span",[e._v("Menu")])]),n("a",{staticClass:"logo",on:{click:e.openSignicatSiteInNewTab}},[n("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:"https://authmobileid.com/public/assets/img/logo.png",alt:"Admin-DJ-Authmobileid"}})]),n("nav",{class:{"slide-in":e.menuOpen},attrs:{id:"navigator"}},[n("h2",[e._v("MobileID")]),n("router-link",{attrs:{id:"registrationRoute",to:"/registration",exact:""}},[e._v("Registration")]),n("router-link",{attrs:{id:"authenticationRoute",to:"/authentication"}},[e._v("Authentication")]),n("router-link",{attrs:{id:"paymentRoute",to:"/payment-authorization"}},[e._v("Payment authorization")]),n("router-link",{attrs:{id:"consentRoute",to:"/consent-sign"}},[e._v("Consent signature")])],1)])]),n("div",{staticClass:"content-wrapper"},[n("router-view",{ref:"routerView",attrs:{id:"routerView"}})],1)])},s=[],o=(n("b0c0"),{name:"App",data:function(){return{menuOpen:!1,lastFocusedParent:null}},mounted:function(){console.log("mounted"),window.addEventListener("keyup",this.handleKeyUp),this.$nextTick((function(){document.title=this.$route.meta.title,this.setFocusWithoutHighlight(document.getElementById(this.$route.name+"Page"))}))},destroyed:function(){console.log("destroyed"),window.removeEventListener("keyup",this.handleKeyUp)},watch:{$route:function(e){this.$nextTick((function(){var t=this;document.title=e.meta.title,setTimeout((function(){var e=void 0!==t.$refs.routerView.$refs.componentFocusTarget?t.$refs.routerView.$refs.componentFocusTarget:t.$refs.routerView.$el;t.setFocusWithoutHighlight(e)}),0)}))}},methods:{focusAndUpdateLastFocusedParent:function(e){e.focus(),this.lastFocusedParent=document.activeElement.parentElement},setFocusWithoutHighlight:function(e){e.setAttribute("tabindex","-1"),this.focusAndUpdateLastFocusedParent(e),e.removeAttribute("tabindex")},onClickApp:function(){this.lastFocusedParent=document.activeElement.parentElement},handleKeyUp:function(e){var t=document.activeElement;if("Enter"===e.key)t&&t.click(),"navigator"===t.parentElement.id&&this.setFocusWithoutHighlight(document.getElementById(t.id+"Page"));else if(this.lastFocusedParent&&"navigator"!==this.lastFocusedParent.id){var n="navigator"===t.parentElement.id;n&&"Tab"===e.key&&e.shiftKey&&this.focusAndUpdateLastFocusedParent(document.getElementById(this.$router.currentRoute.name))}},toggleMenu:function(){this.menuOpen=!this.menuOpen},openSignicatSiteInNewTab:function(){window.open("","_blank")}}}),c=o,u=(n("7c55"),n("2877")),l=n("cb9f"),h=n.n(l),d=Object(u["a"])(c,i,s,!1,null,null,null);"function"===typeof h.a&&h()(d);var p=d.exports,v=n("8c4f"),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{attrs:{id:"configurationRoutePage"}}),n("p",{staticClass:"header-description"},[e._v("MobileID Sample on "),n("label",{staticStyle:{color:"red",display:"inline"}},[e._v(e._s(this.selectedEnv))])]),n("h2",[e._v("Configuration")]),e.forced?n("div",[n("p",[e._v(" For this deployment of the service, there is only one configuration available ")]),n("p",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.response,expression:"response"}],attrs:{disabled:"disabled","aria-label":"Response"},domProps:{value:e.response},on:{input:function(t){t.target.composing||(e.response=t.target.value)}}})])]):e._e(),!1===e.forced?n("div",[n("p",[n("label",[e._v("Environments")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedEnv,expression:"selectedEnv"}],staticClass:"signicat-select",attrs:{text:"Choose a environment","aria-label":"Environments"},on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedEnv=t.target.multiple?n:n[0]},function(t){return e.changeEnv(t)}]}},e._l(e.envList,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])})),0)]),n("p",[n("label",[e._v("Services")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedService,expression:"selectedService"}],staticClass:"signicat-select",attrs:{text:"Choose a service","aria-label":"Services"},on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedService=t.target.multiple?n:n[0]},function(t){return e.changeService(t)}]}},e._l(e.serviceList,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])})),0)]),n("p",[n("label",[e._v("Clients ")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedClient,expression:"selectedClient"}],staticClass:"signicat-select",attrs:{text:"Choose a client","aria-lbel":"Clients"},on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedClient=t.target.multiple?n:n[0]},function(t){return e.changeClient(t)}]}},e._l(e.clientList,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])})),0)]),n("div",{staticStyle:{"margin-left":"60px"}},[n("p",[n("label",[e._v("Application ID")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.appId,expression:"appId"}],staticStyle:{width:"240px"},attrs:{id:"appId",type:"medium-text-box",readonly:"readonly",value:"","aria-label":"Application ID"},domProps:{value:e.appId},on:{input:function(t){t.target.composing||(e.appId=t.target.value)}}})])]),n("br"),n("div",[n("a",{staticClass:"button",attrs:{tabindex:"0"},on:{click:e.configure}},[e._v("Configure")])]),n("p",[n("label",[e._v("Response")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.response,expression:"response"}],attrs:{disabled:"disabled","aria-label":"Response"},domProps:{value:e.response},on:{input:function(t){t.target.composing||(e.response=t.target.value)}}})])]):e._e()])},f=[],g=n("1da1"),x=(n("96cf"),n("d3b7"),n("b64b"),n("caad"),n("2532"),n("5f35")),b={name:"Configuration",data:function(){return{selectedEnv:localStorage.selectedEnv,envList:[],selectedService:localStorage.selectedService,serviceList:[],selectedClient:localStorage.selectedClient,clientList:[],servicePath:"",appId:"",response:"",env:void 0,forced:!1}},beforeMount:function(){this.init()},methods:{init:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(x["publicPath"]+this.servicePath+"/config/init");case 2:return t=e.sent,e.next=5,t.text();case 5:if(n=e.sent,!t.ok){e.next=19;break}return a=JSON.parse(n),r=a.data,this.env=r,this.envList=[],this.envList=Object.keys(r),e.next=14,this.getdefault();case 14:return this.forced=1===Object.keys(this.env).length&&1===Object.keys(this.env[this.selectedEnv].services).length&&1===Object.keys(this.env[this.selectedEnv].services[this.selectedService].clients).length,e.next=17,this.configure();case 17:e.next=20;break;case 19:throw Error("Init config failed");case 20:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getdefault:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(x["publicPath"]+this.servicePath+"/config/getdefault");case 2:return t=e.sent,e.next=5,t.text();case 5:if(n=e.sent,!t.ok){e.next=15;break}return a=JSON.parse(n),r=a.data,void 0!==this.selectedEnv&&void 0!==this.env[this.selectedEnv]||(this.selectedEnv=r.envName,this.selectedService=r.serviceName,this.selectedClient=r.clientName),e.next=12,this.changeEnv();case 12:this.appId=this.env[this.selectedEnv].services[this.selectedService].clients[this.selectedClient].appId,e.next=16;break;case 15:throw Error("Init config failed");case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),configure:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.servicePath,e.next=3,fetch(x["publicPath"]+t+"/config/start?env="+this.selectedEnv+"&service="+this.selectedService+"&client="+this.selectedClient);case 3:if(n=e.sent,localStorage.selectedEnv=this.selectedEnv,localStorage.selectedService=this.selectedService,localStorage.selectedClient=this.selectedClient,a=this.env[this.selectedEnv].services[this.selectedService].clients,!n.ok){e.next=12;break}this.response="Configuration set to: \nEnvironment:  "+localStorage.selectedEnv+"\nService:  "+localStorage.selectedService+"\nOIDC Client:  "+localStorage.selectedClient+"\nApplication ID:  "+a[localStorage.selectedClient].appId,e.next=13;break;case 12:throw Error("Setting config failed");case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),changeEnv:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.serviceList=[],t=this.env[this.selectedEnv].services,this.serviceList=Object.keys(t),void 0!==this.selectedService&&this.serviceList.includes(this.selectedService)||(this.selectedService=this.serviceList[0]),e.next=6,this.changeService();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),changeService:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.clientList=[],t=this.env[this.selectedEnv].services[this.selectedService].clients,this.clientList=Object.keys(t),void 0!==this.selectedClient&&this.clientList.includes(this.selectedClient)||(this.selectedClient=this.clientList[0]),e.next=6,this.changeClient();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),changeClient:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.appId=this.env[this.selectedEnv].services[this.selectedService].clients[this.selectedClient].appId;case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},y=b,_=Object(u["a"])(y,m,f,!1,null,null,null),k=_.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{attrs:{id:"registrationRoutePage"}}),n("p",{staticClass:"header-description"},[e._v("MobileID on "),n("label",{staticStyle:{color:"red",display:"inline"}},[e._v(e._s(this.activeEnv))])]),n("h1",[e._v("Web to MobileID App")]),n("p",[e._v(" On this page you can use our sample web application with backend to register a MobileID user account and enroll a new device. ")]),n("h2",[e._v("Registration")]),e._m(0),e._m(1),n("input",{directives:[{name:"model",rawName:"v-model",value:e.externalRef,expression:"externalRef"}],attrs:{id:"externalRef",type:"small-text-box","aria-label":"External reference"},domProps:{value:e.externalRef},on:{input:function(t){t.target.composing||(e.externalRef=t.target.value)}}}),e._m(2),n("input",{directives:[{name:"model",rawName:"v-model",value:e.deviceName,expression:"deviceName"}],attrs:{id:"deviceName",type:"small-text-box","aria-label":"Device name"},domProps:{value:e.deviceName},on:{input:function(t){t.target.composing||(e.deviceName=t.target.value)}}}),n("br"),e._m(3),n("div",[n("a",{staticClass:"button",attrs:{tabindex:"0"},on:{click:e.startRegistration}},[e._v("Activate device")])]),e._m(4),"checkbox"===(e.activationCode.length>6?"large-text-box":"small-text-box")?n("input",{directives:[{name:"model",rawName:"v-model",value:e.activationCode,expression:"activationCode"}],attrs:{id:"pairingCode",readonly:"readonly",placeholder:"Received code","aria-label":"Activation code",type:"checkbox"},domProps:{checked:Array.isArray(e.activationCode)?e._i(e.activationCode,null)>-1:e.activationCode},on:{change:function(t){var n=e.activationCode,a=t.target,r=!!a.checked;if(Array.isArray(n)){var i=null,s=e._i(n,i);a.checked?s<0&&(e.activationCode=n.concat([i])):s>-1&&(e.activationCode=n.slice(0,s).concat(n.slice(s+1)))}else e.activationCode=r}}}):"radio"===(e.activationCode.length>6?"large-text-box":"small-text-box")?n("input",{directives:[{name:"model",rawName:"v-model",value:e.activationCode,expression:"activationCode"}],attrs:{id:"pairingCode",readonly:"readonly",placeholder:"Received code","aria-label":"Activation code",type:"radio"},domProps:{checked:e._q(e.activationCode,null)},on:{change:function(t){e.activationCode=null}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:e.activationCode,expression:"activationCode"}],attrs:{id:"pairingCode",readonly:"readonly",placeholder:"Received code","aria-label":"Activation code",type:e.activationCode.length>6?"large-text-box":"small-text-box"},domProps:{value:e.activationCode},on:{input:function(t){t.target.composing||(e.activationCode=t.target.value)}}}),n("br"),e._m(5),e._m(6),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.response,expression:"response"}],attrs:{disabled:"disabled","aria-label":"Registration response"},domProps:{value:e.response},on:{input:function(t){t.target.composing||(e.response=t.target.value)}}})])},w=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h3",[n("span",[e._v("1 - Enter the "),n("code",[e._v("externalRef")]),e._v(" and "),n("code",[e._v("deviceName")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[n("label",[e._v("External reference")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[n("label",[e._v("Device name")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h3",[n("span",[e._v("2 - Click the "),n("b",[e._v("Activate device")]),e._v(" button")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[n("label",[e._v("Activation code")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h3",[n("span",[e._v("3 - Use mobile app and enter activation code to activate MobileID on your device")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[n("label",[e._v("Registration response")])])}],P={name:"Registration",data:function(){return{externalRef:"",deviceName:"",activationCode:"",response:"",servicePath:"/backend",activeEnv:"none"}},beforeMount:function(){this.init()},methods:{init:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(x["publicPath"]+this.servicePath+"/register/init");case 2:if(t=e.sent,!t.ok){e.next=12;break}return e.next=6,t.json();case 6:n=e.sent,this.externalRef=n.externalRef,this.deviceName=n.deviceName,this.activeEnv=n.activeEnv,e.next=13;break;case 12:throw Error(t.statusText);case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),startRegistration:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r,i,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,n=this.externalRef,a=this.deviceName,r=this.servicePath,e.next=6,fetch(x["publicPath"]+r+"/register/start?externalRef="+n+"&deviceName="+a);case 6:return i=e.sent,e.next=9,i.text();case 9:if(s=e.sent,!i.ok){e.next=16;break}o=JSON.parse(s),this.activationCode=o.data,"SUCCESS"===o.status&&setTimeout((function(){t.loopCheckStatus(r,"/register")}),3e3),e.next=18;break;case 16:return e.next=18,t.reportError("register",s);case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),loopCheckStatus:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,n){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=this,e.next=3,a.checkStatus(t,n);case 3:if(r=e.sent,console.log("CheckStatus:"+r),"COMPLETED"!==r&&"finished"!==r){e.next=11;break}return console.log("Stop checking result"),e.next=9,a.doComplete(t,n);case 9:e.next=12;break;case 11:setTimeout((function(){a.loopCheckStatus(t,n)}),3e3);case 12:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}(),checkStatus:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,n){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(x["publicPath"]+t+n+"/checkStatus");case 2:if(a=e.sent,!a.ok){e.next=10;break}return e.next=6,a.text();case 6:return r=e.sent,e.abrupt("return",r);case 10:throw Error(a.statusText);case 11:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),doComplete:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(x["publicPath"]+t+n+"/doComplete");case 2:if(a=e.sent,!a.ok){e.next=12;break}return e.next=6,a.json();case 6:r=e.sent,i=JSON.stringify(r,null,2),s=JSON.parse(i),"There is no cached payload with given key"==s.data?this.response=JSON.stringify({status:"SUCCESS",data:"There is no cached payload with given key"}):this.response=JSON.stringify(s),e.next=13;break;case 12:throw Error(a.statusText);case 13:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}(),reportError:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.response=n;case 1:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}},R=P,E=Object(u["a"])(R,C,w,!1,null,null,null),S=E.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{attrs:{id:"authenticationRoutePage"}}),n("p",{staticClass:"header-description"},[e._v("MobileID on "),n("label",{staticStyle:{color:"red",display:"inline"}},[e._v(e._s(this.activeEnv))])]),n("h1",[e._v("Web to MobileID App")]),n("p",[e._v(" On this page you can authenticate a previously registered user. ")]),n("h2",[e._v("Authentication")]),e._m(0),e._m(1),n("input",{directives:[{name:"model",rawName:"v-model",value:e.externalRef,expression:"externalRef"}],attrs:{id:"externalRef",type:"medium-text-box",value:"","aria-label":"External reference"},domProps:{value:e.externalRef},on:{input:function(t){t.target.composing||(e.externalRef=t.target.value)}}}),n("br"),e._m(2),n("div",[n("button",{staticClass:"button",on:{click:e.getDevices}},[e._v("Get available devices")])]),e._m(3),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedDevice,expression:"selectedDevice"}],staticClass:"signicat-select",attrs:{text:"Choose a device to Authenticate","aria-label":"Available devices"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedDevice=t.target.multiple?n:n[0]}}},e._l(e.deviceList,(function(t){return n("option",{key:t.index,domProps:{value:t.value}},[e._v(" "+e._s(t.value)+" ")])})),0),n("br"),n("br"),e._m(4),n("p",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.pushPayloadChecked,expression:"pushPayloadChecked"}],attrs:{type:"checkbox",id:"pushPayloadCheck"},domProps:{checked:Array.isArray(e.pushPayloadChecked)?e._i(e.pushPayloadChecked,null)>-1:e.pushPayloadChecked},on:{change:function(t){var n=e.pushPayloadChecked,a=t.target,r=!!a.checked;if(Array.isArray(n)){var i=null,s=e._i(n,i);a.checked?s<0&&(e.pushPayloadChecked=n.concat([i])):s>-1&&(e.pushPayloadChecked=n.slice(0,s).concat(n.slice(s+1)))}else e.pushPayloadChecked=r}}}),n("label",{attrs:{for:"pushPayloadCheck"}},[e._v(" Specify push payload")]),e.pushPayloadChecked?n("input",{directives:[{name:"model",rawName:"v-model",value:e.pushPayload,expression:"pushPayload"}],attrs:{type:"medium-text-box",value:"",placeholder:"Push message payload"},domProps:{value:e.pushPayload},on:{input:function(t){t.target.composing||(e.pushPayload=t.target.value)}}}):e._e()]),n("br"),n("br"),e._m(5),n("div",[n("button",{staticClass:"button",on:{click:e.startAuthentication}},[e._v("Authenticate")])]),n("br"),n("br"),e._m(6),e._m(7),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.response,expression:"response"}],attrs:{id:"authenticateCompleteResponse",disabled:"disabled","aria-label":"Authentication response"},domProps:{value:e.response},on:{input:function(t){t.target.composing||(e.response=t.target.value)}}})])},N=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h3",[n("span",[e._v("1 - Enter the "),n("code",[e._v("externalRef")]),e._v(" of the user you want to authenticate")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[n("label",[e._v("External reference")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h3",[n("span",[e._v("2 - Click the "),n("b",[e._v("Get available devices")]),e._v(" button and select an authentication device")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[n("label",[e._v("Available devices")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h3",[n("span",[e._v("3 - Optionally enter additional information to be passed back to the app")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h3",[n("span",[e._v("4 - Click the "),n("b",[e._v("Authenticate")]),e._v(" button")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h3",[n("span",[e._v("5 - Push notification is displayed on the mobile device. Carry out authentication")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[n("label",[e._v("Authentication response")])])}],A={name:"Authentication",data:function(){return{deviceId:"",externalRef:"",response:"",selectedDevice:"",deviceList:[],servicePath:"/backend",pushPayload:"",pushPayloadChecked:!1,activeEnv:"none"}},beforeMount:function(){this.init()},methods:{init:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(x["publicPath"]+this.servicePath+"/authenticate/init");case 2:if(t=e.sent,!t.ok){e.next=11;break}return e.next=6,t.json();case 6:n=e.sent,this.externalRef=n.externalRef,this.activeEnv=n.activeEnv,e.next=12;break;case 11:throw Error(t.statusText);case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),startAuthentication:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r,i,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,n=this.externalRef,a=this.servicePath,r=this.selectedDevice,i=x["publicPath"]+a+"/authenticate/start?externalRef="+n+"&deviceName="+r,!0===this.pushPayloadChecked&&(i+="&pushPayload="+encodeURI(this.pushPayload)),e.next=8,fetch(i);case 8:if(s=e.sent,!s.ok){e.next=13;break}setTimeout((function(){t.loopCheckStatus(a,"/authenticate")}),3e3),e.next=18;break;case 13:return e.next=15,s.text();case 15:return o=e.sent,e.next=18,t.reportError("authenticate",JSON.stringify(JSON.parse(o),null,2));case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getDevices:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r,i,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,n=this.externalRef,a=this.servicePath,e.next=5,fetch(x["publicPath"]+a+"/authenticate/getDevices?externalRef="+n);case 5:if(r=e.sent,!r.ok){e.next=15;break}return e.next=9,r.json();case 9:for(i=e.sent,this.deviceList=[],s=0;s<i.length;s++)this.deviceList.push({index:s,value:i[s]});this.selectedDevice=i[0],e.next=20;break;case 15:return e.next=17,r.text();case 17:return o=e.sent,e.next=20,t.reportError("authenticate",o);case 20:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),loopCheckStatus:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,n){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=this,e.next=3,a.checkStatus(t,n);case 3:if(r=e.sent,console.log("CheckStatus:"+r),"COMPLETED"!==r&&"finished"!==r){e.next=11;break}return console.log("Stop checking result"),e.next=9,a.doComplete(t,n);case 9:e.next=12;break;case 11:setTimeout((function(){a.loopCheckStatus(t,n)}),3e3);case 12:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}(),checkStatus:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,n){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(x["publicPath"]+t+n+"/checkStatus");case 2:if(a=e.sent,!a.ok){e.next=10;break}return e.next=6,a.text();case 6:return r=e.sent,e.abrupt("return",r);case 10:throw Error(a.statusText);case 11:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),doComplete:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(x["publicPath"]+t+n+"/doComplete");case 2:if(a=e.sent,!a.ok){e.next=12;break}return e.next=6,a.json();case 6:r=e.sent,i=JSON.stringify(r,null,2),s=JSON.parse(i),"There is no cached payload with given key"==s.data?this.response=JSON.stringify({status:"SUCCESS",data:"There is no cached payload with given key"}):this.response=JSON.stringify(s),e.next=13;break;case 12:throw Error(a.statusText);case 13:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}(),reportError:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.response=n;case 1:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}(),utoa:function(e){return btoa(unescape(encodeURIComponent(e)))}}},j=A,D=Object(u["a"])(j,O,N,!1,null,"ab286c5a",null),$=D.exports,L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{attrs:{id:"paymentRoutePage"}}),n("p",{staticClass:"header-description"},[e._v("MobileID on "),n("label",{staticStyle:{color:"red",display:"inline"}},[e._v(e._s(this.activeEnv))])]),n("h1",[e._v("Web to MobileID App")]),n("p",[e._v(" On this page you can perform the authorization of a payment transaction by means of a consent text string without evidence output. ")]),n("h2",[e._v("Payment authorization")]),e._m(0),e._m(1),n("input",{directives:[{name:"model",rawName:"v-model",value:e.externalRef,expression:"externalRef"}],attrs:{id:"externalRef",type:"medium-text-box",value:"","aria-label":"External reference"},domProps:{value:e.externalRef},on:{input:function(t){t.target.composing||(e.externalRef=t.target.value)}}}),n("br"),e._m(2),n("div",[n("button",{staticClass:"button",on:{click:e.getDevices}},[e._v("Get available devices")])]),e._m(3),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedDevice,expression:"selectedDevice"}],staticClass:"signicat-select",attrs:{text:"Choose a device to Authenticate","aria-label":"Available devices"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedDevice=t.target.multiple?n:n[0]}}},e._l(e.deviceList,(function(t){return n("option",{key:t.index,domProps:{value:t.value}},[e._v(" "+e._s(t.value)+" ")])})),0),n("br"),n("br"),e._m(4),n("p",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.pushPayloadChecked,expression:"pushPayloadChecked"}],attrs:{type:"checkbox",id:"pushPayloadCheck"},domProps:{checked:Array.isArray(e.pushPayloadChecked)?e._i(e.pushPayloadChecked,null)>-1:e.pushPayloadChecked},on:{change:function(t){var n=e.pushPayloadChecked,a=t.target,r=!!a.checked;if(Array.isArray(n)){var i=null,s=e._i(n,i);a.checked?s<0&&(e.pushPayloadChecked=n.concat([i])):s>-1&&(e.pushPayloadChecked=n.slice(0,s).concat(n.slice(s+1)))}else e.pushPayloadChecked=r}}}),n("label",{attrs:{for:"pushPayloadCheck"}},[e._v(" Specify push payload")]),e.pushPayloadChecked?n("input",{directives:[{name:"model",rawName:"v-model",value:e.pushPayload,expression:"pushPayload"}],attrs:{type:"medium-text-box",value:"",placeholder:"Push message payload"},domProps:{value:e.pushPayload},on:{input:function(t){t.target.composing||(e.pushPayload=t.target.value)}}}):e._e()]),n("br"),n("br"),e._m(5),n("p",[n("label",[e._v("Payment information")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.authContextMsg,expression:"authContextMsg"}],attrs:{type:"medium-text-box",value:"Enter payment information","aria-label":"Payment information"},domProps:{value:e.authContextMsg},on:{input:function(t){t.target.composing||(e.authContextMsg=t.target.value)}}})]),n("div",[n("button",{staticClass:"button",on:{click:e.startPaymentAuthorization}},[e._v("Authorize")])]),n("br"),n("br"),e._m(6),e._m(7),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.response,expression:"response"}],attrs:{id:"authorizepaymentCompleteResponse",disabled:"disabled","aria-label":"Payment authorization response"},domProps:{value:e.response},on:{input:function(t){t.target.composing||(e.response=t.target.value)}}})])},T=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h3",[n("span",[e._v("1 - Enter the "),n("code",[e._v("externalRef")]),e._v(" of the user you want to authenticate")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[n("label",[e._v("External reference")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h3",[n("span",[e._v("2 - Click the "),n("b",[e._v("Get available devices")]),e._v(" button and select an authentication device")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[n("label",[e._v("Available devices")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h3",[n("span",[e._v("3 - Optionally enter additional information to be passed back to the app")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h3",[n("span",[e._v("4 - Enter payment information and click the "),n("b",[e._v("Authorize")]),e._v(" button")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h3",[n("span",[e._v("5 - Push notification is displayed on the mobile device. Carry out authorization")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[n("label",[e._v("Payment authorization response")])])}],I={name:"PaymentAuthorization",data:function(){return{deviceId:"",externalRef:"",response:"",authContextMsg:"",selectedDevice:"",deviceList:[],servicePath:"/backend",pushPayload:"",pushPayloadChecked:!1,activeEnv:"none"}},beforeMount:function(){this.init()},methods:{init:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(x["publicPath"]+this.servicePath+"/authorizepayment/init");case 2:if(t=e.sent,!t.ok){e.next=11;break}return e.next=6,t.json();case 6:n=e.sent,this.externalRef=n.externalRef,this.activeEnv=n.activeEnv,e.next=12;break;case 11:throw Error(t.statusText);case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),startPaymentAuthorization:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r,i,s,o,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,n=this.externalRef,a=this.servicePath,r=this.selectedDevice,i=x["publicPath"]+a+"/authorizepayment/start?externalRef="+n+"&deviceName="+r,!0===this.pushPayloadChecked&&(i+="&pushPayload="+encodeURI(this.pushPayload)),s=this.authContextMsg,o=t.utoa(s),i=i+"&preContextTitle="+o,e.next=11,fetch(i);case 11:if(c=e.sent,!c.ok){e.next=16;break}setTimeout((function(){t.loopCheckStatus(a,"/authorizepayment")}),3e3),e.next=21;break;case 16:return e.next=18,c.text();case 18:return u=e.sent,e.next=21,t.reportError("authorizepayment",JSON.stringify(JSON.parse(u),null,2));case 21:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getDevices:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r,i,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,n=this.externalRef,a=this.servicePath,e.next=5,fetch(x["publicPath"]+a+"/authorizepayment/getDevices?externalRef="+n);case 5:if(r=e.sent,!r.ok){e.next=15;break}return e.next=9,r.json();case 9:for(i=e.sent,this.deviceList=[],s=0;s<i.length;s++)this.deviceList.push({index:s,value:i[s]});this.selectedDevice=i[0],e.next=20;break;case 15:return e.next=17,r.text();case 17:return o=e.sent,e.next=20,t.reportError("authorizepayment",o);case 20:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),loopCheckStatus:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,n){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=this,e.next=3,a.checkStatus(t,n);case 3:if(r=e.sent,console.log("CheckStatus:"+r),"COMPLETED"!==r&&"finished"!==r){e.next=11;break}return console.log("Stop checking result"),e.next=9,a.doComplete(t,n);case 9:e.next=12;break;case 11:setTimeout((function(){a.loopCheckStatus(t,n)}),3e3);case 12:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}(),checkStatus:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,n){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(x["publicPath"]+t+n+"/checkStatus");case 2:if(a=e.sent,!a.ok){e.next=10;break}return e.next=6,a.text();case 6:return r=e.sent,e.abrupt("return",r);case 10:throw Error(a.statusText);case 11:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),doComplete:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(x["publicPath"]+t+n+"/doComplete");case 2:if(a=e.sent,!a.ok){e.next=12;break}return e.next=6,a.json();case 6:r=e.sent,i=JSON.stringify(r,null,2),s=JSON.parse(i),"There is no cached payload with given key"==s.data?this.response=JSON.stringify({status:"SUCCESS",data:"There is no cached payload with given key"}):this.response=JSON.stringify(s),e.next=13;break;case 12:throw Error(a.statusText);case 13:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}(),reportError:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.response=n;case 1:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}(),utoa:function(e){return btoa(unescape(encodeURIComponent(e)))}}},M=I,J=Object(u["a"])(M,L,T,!1,null,"8bc6ccd0",null),F=J.exports,z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{attrs:{id:"consentRoutePage"}}),n("p",{staticClass:"header-description"},[e._v("MobileID Sample on "),n("label",{staticStyle:{color:"red",display:"inline"}},[e._v(e._s(this.activeEnv))])]),n("h1",[e._v("Web to merchant app integration")]),n("p",[e._v(" On this page you can perform a signature by means of a consent text string with evidence output. ")]),n("h2",[e._v("Consent signature")]),e._m(0),e._m(1),n("input",{directives:[{name:"model",rawName:"v-model",value:e.externalRef,expression:"externalRef"}],attrs:{id:"externalRef",type:"medium-text-box",value:"","aria-label":"External reference"},domProps:{value:e.externalRef},on:{input:function(t){t.target.composing||(e.externalRef=t.target.value)}}}),n("br"),e._m(2),n("div",[n("button",{staticClass:"button",on:{click:e.getDevices}},[e._v("Get available devices")])]),e._m(3),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedDevice,expression:"selectedDevice"}],staticClass:"signicat-select",attrs:{text:"Choose a device to Authenticate","aria-label":"Available devices"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedDevice=t.target.multiple?n:n[0]}}},e._l(e.deviceList,(function(t){return n("option",{key:t.index,domProps:{value:t.value}},[e._v(" "+e._s(t.value)+" ")])})),0),n("br"),n("br"),e._m(4),n("p",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.pushPayloadChecked,expression:"pushPayloadChecked"}],attrs:{type:"checkbox",id:"pushPayloadCheck"},domProps:{checked:Array.isArray(e.pushPayloadChecked)?e._i(e.pushPayloadChecked,null)>-1:e.pushPayloadChecked},on:{change:function(t){var n=e.pushPayloadChecked,a=t.target,r=!!a.checked;if(Array.isArray(n)){var i=null,s=e._i(n,i);a.checked?s<0&&(e.pushPayloadChecked=n.concat([i])):s>-1&&(e.pushPayloadChecked=n.slice(0,s).concat(n.slice(s+1)))}else e.pushPayloadChecked=r}}}),n("label",{attrs:{for:"pushPayloadCheck"}},[e._v(" Specify push payload")]),e.pushPayloadChecked?n("input",{directives:[{name:"model",rawName:"v-model",value:e.pushPayload,expression:"pushPayload"}],attrs:{type:"medium-text-box",value:"",placeholder:"Push message payload"},domProps:{value:e.pushPayload},on:{input:function(t){t.target.composing||(e.pushPayload=t.target.value)}}}):e._e()]),n("br"),n("br"),e._m(5),n("p",[n("label",[e._v("Consent text")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.authContextMsg,expression:"authContextMsg"}],attrs:{type:"medium-text-box",value:"Enter consent sign text","aria-label":"Consent text"},domProps:{value:e.authContextMsg},on:{input:function(t){t.target.composing||(e.authContextMsg=t.target.value)}}})]),n("p",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"checked"}],attrs:{type:"checkbox",id:"metaDataCheck"},domProps:{checked:Array.isArray(e.checked)?e._i(e.checked,null)>-1:e.checked},on:{change:function(t){var n=e.checked,a=t.target,r=!!a.checked;if(Array.isArray(n)){var i=null,s=e._i(n,i);a.checked?s<0&&(e.checked=n.concat([i])):s>-1&&(e.checked=n.slice(0,s).concat(n.slice(s+1)))}else e.checked=r}}}),n("label",{attrs:{for:"metaDataCheck"}},[e._v(" Specify metadata (optional)")]),e.checked?n("input",{directives:[{name:"model",rawName:"v-model",value:e.metaData,expression:"metaData"}],attrs:{type:"medium-text-box",value:"Enter metadata",placeholder:"Metadata"},domProps:{value:e.metaData},on:{input:function(t){t.target.composing||(e.metaData=t.target.value)}}}):e._e()]),n("br"),e._m(6),e._m(7),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedSdoFormat,expression:"selectedSdoFormat"}],staticClass:"signicat-select",attrs:{text:"Choose a sdo format","aria-label":"Sdo format"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedSdoFormat=t.target.multiple?n:n[0]}}},e._l(e.sdoFormatList,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])})),0),n("br"),n("br"),n("div",[n("button",{staticClass:"button",on:{click:e.startSigning}},[e._v("Sign")])]),n("br"),n("br"),e._m(8),e._m(9),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.response,expression:"response"}],attrs:{id:"consentsignCompleteResponse",disabled:"disabled","aria-label":"Signed response"},domProps:{value:e.response},on:{input:function(t){t.target.composing||(e.response=t.target.value)}}})])},U=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h3",[n("span",[e._v("1 - Enter the "),n("code",[e._v("externalRef")]),e._v(" of the user you want to authenticate")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[n("label",[e._v("External reference")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h3",[n("span",[e._v("2 - Click the "),n("strong",[e._v("Get available devices")]),e._v(" button and select an authentication device")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[n("label",[e._v("Available devices")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h3",[n("span",[e._v("3 - Optionally enter additional information to be passed back to the app")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h3",[n("span",[e._v("4 - Enter the consent text and optionally metadata")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h3",[n("span",[e._v("5 - Select the desired SDO format and click the "),n("b",[e._v("Sign")]),e._v(" button")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[n("label",[e._v("SDO format")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h3",[n("span",[e._v("6 - Push notification is displayed on the mobile device. Carry out authentication")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[n("label",[e._v("Signed response")])])}],W={name:"Authentication",data:function(){return{deviceId:"",externalRef:"",response:"",authContextMsg:"",metaData:"",checked:!1,selectedDevice:"",deviceList:[],selectedSdoFormat:"Jwt",sdoJwtPresent:!1,sdoFormatList:["Ltv-Sdo"],servicePath:"/backend",pushPayload:"",pushPayloadChecked:!1,activeEnv:"none"}},beforeMount:function(){this.init()},methods:{init:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(x["publicPath"]+this.servicePath+"/consentsign/init");case 2:if(t=e.sent,!t.ok){e.next=13;break}return e.next=6,t.json();case 6:n=e.sent,this.externalRef=n.externalRef,this.activeEnv=n.activeEnv,this.sdoJwtPresent=n.signJwtMethodIsConfigured,this.sdoJwtPresent?this.sdoFormatList.push("Jwt"):this.selectedSdoFormat=this.sdoFormatList[0],e.next=14;break;case 13:throw Error(t.statusText);case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),startSigning:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r,i,s,o,c,u,l,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,n=this.externalRef,a=this.servicePath,r=this.selectedDevice,i=this.selectedSdoFormat,s=x["publicPath"]+a+"/consentsign/start?externalRef="+n+"&deviceName="+r,s+="&sdoFormat="+i,!0===this.pushPayloadChecked&&(s+="&pushPayload="+encodeURI(this.pushPayload)),o=this.authContextMsg,c=t.utoa(o),s=s+"&preContextTitle="+c,this.checked&&(u=this.metaData,s=s+"&preContextContent="+u),e.next=14,fetch(s);case 14:if(l=e.sent,!l.ok){e.next=19;break}setTimeout((function(){t.loopCheckStatus(a,"/consentsign")}),3e3),e.next=24;break;case 19:return e.next=21,l.text();case 21:return h=e.sent,e.next=24,t.reportError("consentsign",JSON.stringify(JSON.parse(h),null,2));case 24:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getDevices:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r,i,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,n=this.externalRef,a=this.servicePath,e.next=5,fetch(x["publicPath"]+a+"/consentsign/getDevices?externalRef="+n);case 5:if(r=e.sent,!r.ok){e.next=15;break}return e.next=9,r.json();case 9:for(i=e.sent,this.deviceList=[],s=0;s<i.length;s++)this.deviceList.push({index:s,value:i[s]});this.selectedDevice=i[0],e.next=20;break;case 15:return e.next=17,r.text();case 17:return o=e.sent,e.next=20,t.reportError("consentsign",o);case 20:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),loopCheckStatus:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,n){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=this,e.next=3,a.checkStatus(t,n);case 3:if(r=e.sent,console.log("CheckStatus:"+r),"COMPLETED"!==r&&"finished"!==r){e.next=11;break}return console.log("Stop checking result"),e.next=9,a.doComplete(t,n);case 9:e.next=12;break;case 11:setTimeout((function(){a.loopCheckStatus(t,n)}),3e3);case 12:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}(),checkStatus:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,n){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(x["publicPath"]+t+n+"/checkStatus");case 2:if(a=e.sent,!a.ok){e.next=10;break}return e.next=6,a.text();case 6:return r=e.sent,e.abrupt("return",r);case 10:throw Error(a.statusText);case 11:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),doComplete:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(x["publicPath"]+t+n+"/doComplete");case 2:if(a=e.sent,!a.ok){e.next=12;break}return e.next=6,a.json();case 6:r=e.sent,i=JSON.stringify(r,null,2),s=JSON.parse(i),"There is no cached payload with given key"==s.data?this.response=JSON.stringify({status:"SUCCESS",data:"There is no cached payload with given key"}):this.response=JSON.stringify(s),e.next=13;break;case 12:throw Error(a.statusText);case 13:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}(),reportError:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.response=n;case 1:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}(),utoa:function(e){return btoa(unescape(encodeURIComponent(e)))}}},G=W,V=Object(u["a"])(G,z,U,!1,null,"424d597f",null),B=V.exports;a["a"].use(v["a"]),a["a"].use(r["a"]),a["a"].config.productionTip=!1,a["a"].prototype.$showTip=function(e,t){console.log(e);var n=document.getElementById(t);e.target.classList.contains("active")?(n.classList.remove("show"),e.target.classList.remove("active")):(n.classList.add("show"),e.target.classList.add("active"))};var H="MobileID Sample - ",K=[{name:"registrationRoute",path:"/",component:S,meta:{title:H+"Registration"}},{name:"configRoute",path:"/configuration",component:k,meta:{title:H+"Configuration"}},{name:"registrationRoute",path:"/registration",component:S,meta:{title:H+"Registration"}},{name:"authenticationRoute",path:"/authentication",component:$,meta:{title:H+"Authentication"}},{name:"paymentRoute",path:"/payment-authorization",component:F,meta:{title:H+"Payment authorization"}},{name:"consentRoute",path:"/consent-sign",component:B,meta:{title:H+"Consent signature"}}],q=new v["a"]({mode:"history",linkActiveClass:"active",base:x["publicPath"],routes:K});new a["a"]({router:q,render:function(e){return e(p)}}).$mount("#app")},"5f35":function(e,t){e.exports={publicPath:"/authentication-system"}},"7c55":function(e,t,n){"use strict";n("2395")},cb9f:function(e,t){}});
//# sourceMappingURL=app.e4fb2c2a.js.map